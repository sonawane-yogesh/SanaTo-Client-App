<app-page-preload></app-page-preload>
<app-top-header-bar></app-top-header-bar>
<app-left-menu></app-left-menu>
<div id="content">
  <app-page-bread-crumb></app-page-bread-crumb>
  <div class="container-fluid">
    <h4 class="pad-btm">Upload Project</h4>
    <hr>
    <div class="row-fluid">
      <div class="span6">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon"> <i class="icon-align-justify"></i> </span>
            <h5>Upload and Submit Project Details:</h5>
          </div>
          <div class="widget-content nopadding widget-box">
            <form class="form-horizontal" (ngSubmit)="f.form.valid && submitProject();" #f="ngForm"
              accept-charset="UTF-8">
              <div class="control-group">
                <label class="control-label"> Select Workspace: </label>
                <div class="input-group">
                  <div class="span8">
                    <select class="form-control" [(ngModel)]="projectMaster.WorkspaceId" id="ddl-workspaces" name="WorkspaceId"
                     #WorkspaceId="ngModel" required="required">
                      <option value=null selected>Select</option>
                      <option *ngFor="let w of workspaces;" value="{{w._id}}">{{w.WorkspaceName}}</option>
                    </select>
                  </div>
                  <div class="span4">
                    <button href="#add-workspace-modal" data-toggle="modal" id="btn-add-workspace"
                      class="btn btn-success" type="button">Add New
                    </button>
                  </div>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label"> Select Language: </label>
                <div class="input-group">
                  <select class="form-control" [(ngModel)]="projectMaster.LanguageId" id="ddlLanguages"
                    name="LanguageId" #LanguageId="ngModel" required="required">
                    <option value=null selected>Select</option>
                    <option *ngFor="let lan of allLanguages" value="{{lan._id}}"> {{lan.LanguageName}} </option>
                  </select>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label"> Project Name: </label>
                <div class="input-group">
                  <input [(ngModel)]="projectMaster.ProjectName" autofocus="autofocus" name="ProjectName" type="text"
                 #ProjectName="ngModel" class="form-control" placeholder="Project Name" required="required">
                </div>
              </div>
              <div class="control-group">
                <label class="control-label"> Project Description: </label>
                <div class="input-group">
                  <input [(ngModel)]="projectMaster.ProjectDescription" name="ProjectDescription" type="text"
                #ProjectDescription="ngModel" class="form-control" placeholder="Project Description (Optional)">
                </div>
              </div>
              <div class="control-group">
                <label class="control-label"> Is CT Code: </label>
                <div class="input-group text-left">
                  <div class="pretty p-svg p-curve p-bigger">
                    <input [(ngModel)]="projectMaster.IsCtCode" name="IsCtCode"
                      type="checkbox"  #ProjectDescription="ngModel" />
                    <div class="state p-success">
                       <i class="icon mdi mdi-check"></i>
                      <svg class="svg svg-icon" viewBox="0 0 20 20">
                        <path
                          d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z"
                          style="stroke: white;fill:white;"></path>
                      </svg>
                      <label></label>
                    </div>
                  </div>                  
                </div>
              </div>
              <div class="control-group">
                <label class="control-label"> Upload Project (.zip): </label>
                <div class="input-group">
                  <project-upload [uploadConfig]="uploadConfig" style="width: 100%;"></project-upload>
                </div>
              </div>
              <div class="control-group col-xs-4">
                <div class="input-group text-right">
                  <button [disabled]="!f.form.valid" class="btn btn-success" type="submit">Submit</button>
                </div>
              </div>
              <div class="control-group" id="msg-log">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="add-workspace-modal" class="modal hide">
  <div class="modal-header">
    <h2>Add new workspace</h2>
    <button data-dismiss="modal" class="close" type="button">Ã—</button>
  </div>
  <div class="modal-body" style="padding: 5px 20px;">
    <form class="form-horizontal" (ngSubmit)="wp.form.valid && addWorkspace(wp);" #wp="ngForm" accept-charset="UTF-8">
      <div class="control-group span4">
        <label class="control-label"> Language: </label>
        <div class="input-group">
          <select class="form-control" id="ddl-wp-languages" [(ngModel)]="workspace.LanguageId" autofocus="autofocus"
            name="LanguageId" #LanguageId="ngModel">
            <option value=null>Select Language</option>
            <option *ngFor="let lan of allLanguages" value="{{lan._id}}"> {{lan.LanguageName}} </option>
          </select>
        </div>
      </div>
      <div class="control-group span4">
        <label class="control-label"> Workspace Name: </label>
        <div class="input-group">
          <input [(ngModel)]="workspace.WorkspaceName" #WorkspaceName="ngModel" autofocus="autofocus" name="WorkspaceName"
            type="text" class="form-control" placeholder="Workspace Name" required="required">
        </div>
      </div>
      <div class="control-group span4">
        <label class="control-label"> Workspace Description: </label>
        <div class="input-group">
          <input [(ngModel)]="workspace.WorkspaceDescription" #WorkspaceDescription="ngModel" name="WorkspaceDescription"
            type="text"
            class="form-control" placeholder="Workspace Description (Optional)">
        </div>
      </div>
      <div class="control-group col-xs-4 span4">
        <div class="input-group text-right">
          <button type="submit" [disabled]="!wp.valid" class="btn btn-primary">Add</button>
          &nbsp;
          <button type="button" class="btn btn-danger btn-default pull-right" data-dismiss="modal">Close</button>
        </div>
      </div>
    </form>
  </div>
</div>
<app-footer></app-footer>
